# T-distribution

## Gosset {.smaller}

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/4/42/William_Sealy_Gosset.jpg/800px-William_Sealy_Gosset.jpg" style="float: left; width: 150px; margin: 0 20px 0 0;">

In probability and statistics, Student's t-distribution (or simply the t-distribution) is any member of a family of continuous probability distributions that arises when estimating the mean of a normally distributed population in situations where the sample size is small and population standard deviation is unknown. 

In the English-language literature it takes its name from William Sealy Gosset's 1908 paper in Biometrika under the pseudonym "Student". Gosset worked at the Guinness Brewery in Dublin, Ireland, and was interested in the problems of small samples, for example the chemical properties of barley where sample sizes might be as low as 3.

[Wikipedia](https://en.wikipedia.org/wiki/Student%27s_t-distribution)

<img src="http://213.173.178.129/~/media/MCI/Files/CaseStudy/guinnes_cs_logo1.ashx" style="float: right; width: 150px; margin: 0 20px 0 0;">

## Population distribution {.smaller}

```{r}
layout(matrix(c(2:6,1,1,7:8,1,1,9:13), 4, 4))

n  = 56    # Sample size
df = n - 1 # Degrees of freedom

mu    = 100
sigma = 15

IQ = seq(45, 155, 1)

par(mar=c(4,2,0,0))  
plot(IQ, dnorm(IQ, mean = mu, sd = sigma), type='l', col="red")

n.samples = 12

for(i in 1:n.samples) {
  
  par(mar=c(2,2,0,0))  
  hist(rnorm(n, mu, sigma), main="", cex.axis=.5, col="red")
  
}
```

## T-statistic

$$T_{n-1} = \frac{\bar{x}-\mu}{SE_x} = \frac{\bar{x}-\mu}{s_x / \sqrt{n}}$$

So the t-statistic represents the deviation of the sample mean $\bar{x}$ from the population mean $\mu$, considering the sample size, expressed as the degrees of freedom $df = n - 1$

## A samples {.smaller}

Let's take one sample from from our normal populatiion and calculate the t-value.

```{r}
x = rnorm(n, mu, sigma); x
mean(x)
t = (mean(x) - mu) / (sd(x) / sqrt(n)); t
```

## More samples

let's take more samples and calculate the t-value every time.

```{r}
n.samples = 1000

t.values = vector()

for(i in 1:n.samples) {
  
  x = rnorm(n, mu, sigma)

  t.values[i] = (mean(x) - mu) / (sd(x) / sqrt(n))
  
}

hist(t.values, freq = F, main="T-values")
T = seq(-4, 4, .01)
lines(T, dt(T,df), col = "red")
```


## T-distribution {.smaller}

So if the population is normaly distributed (assumption of normality) the t-distribution represents the deviation of sample means from the population mean ($\mu$), given a certain sample size ($df = n - 1$). 

The t-distibution therefore is different for different sample sizes and converges to a standard normal distribution if sample size is large enough.

```{r}
multiple.n  = c(5, 15, 30, 75, 100)
multiple.df = multiple.n - 1
col         = rainbow(length(multiple.df))

plot(T,  dt(T, multiple.df[1]), type = "l", 
     xlim = c(-4,4), ylim = c(0,.45), 
     xlab = "T", ylab="density", 
     col = col[1], main="T-distributions" )

for(i in 2:length(multiple.df)) { 
  
  lines(T, dt(T, multiple.df[i]), type="l", col=col[i])
  } 
legend("topright", legend = paste("n =",multiple.n), lty=1, col = col)
```

